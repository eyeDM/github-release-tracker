# GitHub Release Tracker Bot

Telegram-бот, отслеживающий выход новых релизов на GitHub в указанных репозиториях и отправляющий уведомления в чат.

## Возможности

- Отправка сообщений в Telegram.
- Поддержка нескольких репозиториев GitHub.
- Отсеивание черновых и предрелизных версий.
- Хранение состояния в SQLite — бот не присылает одни и те же релизы повторно.
- Лёгкий деплой через Docker Compose.

## Установка

### 1. Получение исходного кода

```console
git clone <репозиторий>
cd github-release-tracker
```

### 2. Подготовка к запуску

Создайте файл `.env` на основе `.env.example`. Укажите в нём UID пользователя, от имени которого нужно запускать python-код. По умолчанию — `1001`.

Создайте файл `app/config.json` на основе `app/config.json.example`:
```json
{
  "BOT_TOKEN": "your_bot_token",
  "CHAT_ID": "your_chat_id",
  "CHECK_TIMEOUT": 3600,
  "REPOS": [
    "owner1/repo1",
    "owner2/repo2"
  ]
}
```

* `BOT_TOKEN` — токен вашего бота, полученный от @BotFather.
* `CHAT_ID` — идентификатор tg-чата, в который будут отправляться уведомления. Если это личный чат, нужно начать диалог с ботом.
* `CHECK_TIMEOUT` — интервал между циклами опроса репозиториев. Задаётся в секундах.
* `REPOS` — список опрашиваемых репозиториев.

Директория `./storage` должна быть доступна на запись пользователю, который был указан в файле `.env`:
```console
chown 1001:1001 ./storage
```

### 3. Запуск контейнера

```console
docker compose up --build -d
```
В случае отсутствия ошибок вывод команды `docker compose logs` будет пустым.

## Структура проекта

* `app/bot.py` — основной код бота.
* `app/release_db.py` — работа с SQLite.
* `app/config.json.example` — пример конфигурации.
* `build/Dockerfile` — сценарий сборки Docker-образа.
* `docker-compose.yml` — инструкция по запуску Docker-контейнера.

## Хранение данных

Информация о последних обработанных релизах хранится в SQLite-файле `./storage/releases.db`. Внутрь Docker-контейнера этот файл монтируется как `/var/lib/app/releases.db`.

## Лицензия

MIT License — свободно используйте и дорабатывайте под свои задачи.
